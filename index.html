<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AyÅŸe Elif-Ba Mektebi - SÃ¼per GÃ¼ncelleme</title>
    <style>
        :root { --ana: #6c5ce7; --pembe: #ff78ac; --sari: #feca57; --yesil: #00b894; }
        body { margin: 0; font-family: 'Comic Sans MS', cursive; background: #a29bfe; text-align: center; user-select: none; overflow-x: hidden; }
        .header { background: white; padding: 15px; border-bottom: 5px solid var(--sari); border-radius: 0 0 40px 40px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 20px; max-width: 450px; margin: 0 auto; }
        .btn { padding: 20px; border-radius: 20px; border: none; color: white; font-weight: bold; font-size: 16px; cursor: pointer; transition: transform 0.2s; box-shadow: 0 5px 0 rgba(0,0,0,0.1); }
        .btn:active { transform: translateY(4px); box-shadow: none; }
        
        /* Oyun Sahnesi */
        #stage { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 100; flex-direction: column; align-items: center; justify-content: center; }
        .big-char { font-size: 140px; color: #2d3436; margin: 10px; cursor: pointer; transition: all 0.3s; position: relative; }
        
        /* Boyama AlanÄ± */
        #paint-area { position: relative; width: 300px; height: 300px; margin: 20px auto; border: 3px dashed var(--ana); border-radius: 20px; display: none; }
        canvas { position: absolute; top: 0; left: 0; cursor: crosshair; touch-action: none; }
        
        .controls { display: flex; gap: 20px; margin-top: 20px; }
        .circle { width: 70px; height: 70px; border-radius: 50%; border: none; background: var(--ana); color: white; font-size: 30px; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        
        #star-counter { font-size: 24px; color: var(--sari); font-weight: bold; margin-top: 10px; }
        #splash { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--ana); z-index: 1000; color: white; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .start-now { padding: 20px 40px; border-radius: 50px; border: none; background: var(--sari); font-size: 22px; font-weight: bold; cursor: pointer; box-shadow: 0 8px 0 #e1b12c; }
    </style>
</head>
<body>

<div id="splash">
    <div style="font-size: 80px; margin-bottom: 10px;">ğŸ’</div>
    <h1>AyÅŸe'nin DÃ¼nyasÄ±na HoÅŸ Geldin</h1>
    <button class="start-now" onclick="initGame()">OYUNU BAÅLAT â–¶ï¸</button>
</div>

<div class="header">
    <img src="https://cdn-icons-png.flaticon.com/512/3135/3135715.png" style="width:80px; height:80px; border-radius:50%; border: 3px solid var(--pembe);">
    <h2 style="color: var(--ana); margin: 5px 0;">AyÅŸe Elif-Ba Mektebi â­</h2>
    <div id="star-counter">YÄ±ldÄ±zlarÄ±n: <span id="star-val">0</span> â­</div>
</div>

<div class="grid">
    <button class="btn" style="background:#ff7675;" onclick="basla('harf')">ğŸ¨ 28 HARF</button>
    <button class="btn" style="background:var(--yesil);" onclick="basla('boyama')">ğŸ–ï¸ BOYAMA DÃœNYASI</button>
    <button class="btn" style="background:#fdcb6e;" onclick="basla('ustun')">â˜€ï¸ ÃœSTÃœN (E)</button>
    <button class="btn" style="background:#0984e3;" onclick="basla('esre')">ğŸ’§ ESRE (Ä°)</button>
    <button class="btn" style="background:#a29bfe;" onclick="basla('otre')">ğŸŒ€ Ã–TRE (Ãœ)</button>
    <button class="btn" style="background:#2d3436;" onclick="basla('dua')">ğŸ¤² DUALAR</button>
</div>

<div id="stage">
    <button onclick="home()" style="position:absolute; top:20px; right:20px; font-size:40px; border:none; background:none; cursor:pointer;">ğŸ </button>
    
    <div id="normal-view">
        <div id="char-box" class="big-char" onclick="konus()"></div>
    </div>

    <div id="paint-area">
        <canvas id="paintCanvas" width="300" height="300"></canvas>
    </div>

    <h2 id="char-label" style="color: var(--ana); font-size: 28px;"></h2>
    
    <div class="controls">
        <button class="circle" onclick="yuru(-1)">â¬…ï¸</button>
        <button class="circle" id="action-btn" style="background:var(--pembe)" onclick="konus()">ğŸ”Š</button>
        <button class="circle" onclick="yuru(1)">â¡ï¸</button>
    </div>
</div>

<script>
    const HARFLER = ["Ø§","Ø¨","Øª","Ø«","Ø¬","Ø­","Ø®","Ø¯","Ø°","Ø±","Ø²","Ø³","Ø´","Øµ","Ø¶","Ø·","Ø¸","Ø¹","Øº","f","Ù‚","Ùƒ","Ù„","Ù…","Ù†","Ùˆ","Ù‡","ÙŠ"];
    const ISIMLER = ["Elif","Be","Te","Se","Cim","Ha","HÄ±","Dal","Zel","Ra","Ze","Sin","ÅÄ±n","Sad","Dad","TÄ±","ZÄ±","AyÄ±n","GayÄ±n","Fe","Kaf","Kef","Lam","Mim","Nun","Vav","He","Ye"];
    
    let mod = '', i = 0, yildiz = 0;
    let canvas, ctx, isPainting = false;

    function initGame() { 
        document.getElementById('splash').style.display = 'none';
        canvas = document.getElementById('paintCanvas');
        ctx = canvas.getContext('2d');
        // Mouse ve Dokunma olaylarÄ±
        canvas.addEventListener('mousedown', startPaint);
        canvas.addEventListener('mousemove', paint);
        canvas.addEventListener('mouseup', endPaint);
        canvas.addEventListener('touchstart', (e) => { e.preventDefault(); startPaint(e.touches[0]); });
        canvas.addEventListener('touchmove', (e) => { e.preventDefault(); paint(e.touches[0]); });
        canvas.addEventListener('touchend', endPaint);
    }

    function basla(m) {
        mod = m; i = 0;
        document.getElementById('stage').style.display = 'flex';
        guncelle();
    }

    function guncelle() {
        ctx.clearRect(0,0,300,300);
        let t = HARFLER[i], n = ISIMLER[i];
        
        document.getElementById('normal-view').style.display = (mod == 'boyama') ? 'none' : 'block';
        document.getElementById('paint-area').style.display = (mod == 'boyama') ? 'block' : 'none';

        if(mod == 'boyama') {
            ctx.font = "200px 'Comic Sans MS'";
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.strokeStyle = "#eee";
            ctx.lineWidth = 2;
            ctx.strokeText(t, 150, 150);
            n = n + " Boyama ğŸ¨";
        } else if(mod == 'ustun') { t += "Ù"; n += " ÃœstÃ¼n"; }
        else if(mod == 'esre') { t += "Ù"; n += " Esre"; }
        else if(mod == 'otre') { t += "Ù"; n += " Ã–tre"; }
        else if(mod == 'dua') {
            let d = [["SÃ¼bhÃ¢neke","Ø³ÙØ¨Ù’Ø­ÙØ§Ù†ÙÙƒÙ Ø§Ù„Ù„ÙÙ‘Ù‡ÙÙ…ÙÙ‘ ÙˆÙØ¨ÙØ­ÙÙ…Ù’Ø¯ÙÙƒÙ"],["Fatiha","Ø§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙÙ‘Ù‡Ù"]];
            t = "ğŸ¤²"; n = d[i][0];
            document.getElementById('char-box').dataset.oku = d[i][1];
        }

        if(mod != 'dua') document.getElementById('char-box').dataset.oku = t;
        document.getElementById('char-box').innerText = t;
        document.getElementById('char-label').innerText = n;
        konus();
    }

    function startPaint() { isPainting = true; ctx.beginPath(); }
    function endPaint() { isPainting = false; starEkle(); }
    function paint(e) {
        if(!isPainting) return;
        let rect = canvas.getBoundingClientRect();
        let x = e.clientX - rect.left;
        let y = e.clientY - rect.top;
        ctx.lineWidth = 15;
        ctx.lineCap = 'round';
        ctx.strokeStyle = `hsl(${Math.random() * 360}, 70%, 60%)`;
        ctx.lineTo(x, y);
        ctx.stroke();
    }

    function starEkle() {
        yildiz++;
        document.getElementById('star-val').innerText = yildiz;
    }

    function konus() {
        window.speechSynthesis.cancel();
        let metin = document.getElementById('char-box').dataset.oku;
        let u = new SpeechSynthesisUtterance(metin);
        u.lang = 'ar-SA'; u.rate = 0.6; u.pitch = 1.2;
        window.speechSynthesis.speak(u);
    }

    function yuru(yon) {
        i = (i + yon + 28) % 28;
        guncelle();
    }

    function home() { document.getElementById('stage').style.display = 'none'; }
</script>
</body>
</html>
